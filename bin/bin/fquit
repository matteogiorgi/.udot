#!/usr/bin/env bash

# This script lists possible quit options and uses fzf
# to select one of them to be launched.
# It is intended to be used as such: $TERMINAL -T __ftiny__ -e fquit


[[ -x "$(command -v sct)" ]] || exit 1
[[ -f ~/.bash_functions ]] && . ~/.bash_functions || exit 1

OPT="I3-Logout\nI3-Reboot\nI3-Poweroff\n"
CMD=$(printf "$OPT" | fzf --prompt='fquit > ' --height 100% --margin 0% --reverse --info=hidden --header-first)
[[ -n "$CMD" ]] || exit 1

&>/dev/null
case "$CMD" in
    I3-Logout) _logouti3 ;;
    I3-Reboot) _rebooti3 ;;
    I3-Poweroff) _poweroffi3 ;;
    *) exit 1 ;;
esac
