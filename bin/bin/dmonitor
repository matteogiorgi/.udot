#!/usr/bin/env bash

# This script organize your monitors arrangement;
# remember to save the following configuration with autorandr --save:
# Single, Dual, Triple, First, Second, Third.
#
# TIP: use arandr to speed up the process.


[[ ! -x "$(command -v autorandr)" ]] && exit 1

NMON=$(xrandr --query | grep " connected" | cut -d" " -f1 | wc -l)
[[ $NMON -eq 1 ]] && LIST="Master"
[[ $NMON -eq 2 ]] && LIST="Dual\nMaster\nSlave"

CHOICE=$(echo -e $LIST | dmenu -i -b -p MONITOR | cut -d ':' -f 1)
case "$CHOICE" in
    Dual)
        autorandr --load dual
        ;;
    Master)
        autorandr --load master
        ;;
    Slave)
        autorandr --load slave
        ;;
    *)
        exit 1
        ;;
esac

[[ -f ~/.fehbg ]] && ~/.fehbg
