#!/usr/bin/env bash

# This script remaps CapsLock to Super key, plus it adds the escape function on top.
# As an alternative you use the xcape package and delay the keystroke.


setxkbmap -option "caps:super"
if [[ -x "$(command -v xmodmap)" ]]; then
    KEYCODE_SUPERL=$(xmodmap -pke | grep Super_L | awk '{print $2}')  # 133
    echo $KEYCODE_SUPERL | xargs -I{} xmodmap -e 'keycode {} = Escape NoSymbol Escape'
fi
