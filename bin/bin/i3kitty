#!/usr/bin/env bash

# This script control OpenGL drivers version before openining kitty;
# if before version 3.3, i3-sensible-terminal (st) is opened instead


GLX=$(glxinfo | awk '/OpenGL version/ {print $4}')
[[ -x "$(command -v urxvt)" ]] && I3TERM="urxvt" || I3TERM="i3-sensible-terminal"
[[ -x "$(command -v kitty)" && (( $(echo "$GLX > 3.3" | bc -l) )) ]] && kitty $* || "$I3TERM" $*
