#!/usr/bin/env bash

if [[ -x "$(command -v code)" ]]; then
    COMMAND="code"; CODE="CODE"
elif [[ -x "$(command -v codium)" ]]; then
    COMMAND="codium"; CODE="CODIUM"
else
    dmenu_run -i -b -p MENU
    exit 0
fi

CHOICE=$(echo -e "Open\nFrame\nHome" | dmenu -i -b -p $CODE | cut -d ':' -f 1)
case "$CHOICE" in
    Open)
        $COMMAND
        ;;
    Frame)
        $COMMAND --new-window
        ;;
    Home)
        $COMMAND $HOME
        ;;
    *)
        exit 1
        ;;
esac
