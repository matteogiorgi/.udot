#!/usr/bin/env bash


[[ ! -x "$(command -v sct)" ]] && exit 1
[[ ! -f ~/.xtemperature ]] && printf "#!/bin/sh\nsct 6500\n" > ~/.xtemperature

TEMP=$(awk 'FNR==2 {print $2}' ~/.xtemperature)

if [[ $* == "" ]]; then
    printf "#!/bin/sh\nsct 6500\n" > ~/.xtemperature
elif [[ $* == -1 && $TEMP -gt 3500 ]]; then
    ((TEMP-=500))
    printf "#!/bin/sh\nsct $TEMP\n" > ~/.xtemperature
elif [[ $* == +1 && $TEMP -lt 9500 ]]; then
    ((TEMP+=500))
    printf "#!/bin/sh\nsct $TEMP\n" > ~/.xtemperature
fi

chmod 755 ~/.xtemperature
~/.xtemperature
xsetroot -cursor_name arrow
